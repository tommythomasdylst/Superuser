{"name":"Superuser","tagline":"su install","body":"## Why another Superuser?\r\n* Superuser should be open source. It's the gateway to root on your device. It must be open for independent security analysis. Obscurity (closed source) is not security.\r\n* Superuser should be NDK buildable. No internal Android references.\r\n* Superuser should also be AOSP buildable for those that want to embed it in their ROM.\r\n* Superuser should also be AOSP _embeddable_, meaning a ROM can easily embed it into their Settings app.\r\n* Maintenance and updates on both the market and source repositories should be timely.\r\n* I want to be able to point users of my app to a Superuser solution that I wrote, that I know works, and that I can fix if something is wrong.\r\n* Handle multiuser (4.2+) properly\r\n* Handle concurrent su requests properly\r\n\r\n## Translations\r\n\r\nTranslations are very much appreciated, but please do not submit translations on Github! Instead, use the review submission process on [CyanogenMod's gerrit instance](http://review.cyanogenmod.org/#/q/status:open,n,z).\r\n\r\n\r\n\r\n## Checking out the source\r\n\r\nYou'll need the \"Widgets\" dependency.\r\n\r\n* $ mkdir /path/to/src\r\n* $ cd /path/to/src\r\n* $ git clone git://github.com/koush/Superuser\r\n* $ git clone git://github.com/koush/Widgets\r\n\r\nThese repositories do not keep the actual projects in the top level directory.\r\nThis is because they contain tests, libs, and samples.\r\n\r\n## Eclipse\r\n\r\nIn Eclipse, import Widgets/Widgets and Superuser/Superuser. It should Just Work (TM).\r\n\r\n## Ant\r\n\r\n* $ mkdir /path/to/src\r\n* $ cd /path/to/src\r\n* $ cd Superuser/Superuser\r\n\r\nIn this directory, create a file called local.properties. This file is used by ant for custom properties. You need to specify the location of the ndk directory:\r\n\r\n```\r\nndk.dir=/Users/koush/src/android-ndk\r\n```\r\n\r\nThen you can build:\r\n\r\n* $ ant release\r\n\r\nOutputs:\r\n* bin/update.zip - Recovery installable zip\r\n* bin/Superuser.apk - Superuser Android app\r\n* libs/armeabi/su - ARM su binary\r\n* libs/x86/su - x86 su binary\r\n\r\n## Building the su binary\r\n\r\nYou can use ant as shown above, to build the binary, but it can also be built without building the APK.\r\n\r\nMake sure you have the android-ndk downloaded with the tool \"ndk-build\" in your path.\r\n\r\n* $ cd /path/to/src/\r\n* $ cd Superuser/Superuser\r\n* $ ndk-build\r\n\r\nThe su binary will built into Superuser/Superuser/libs/armeabi/su.\r\n\r\n\r\n\r\n## Building with AOSP, CyanogenMod, etc\r\n\r\nROM developers are welcome to distribute the official Superuser APK and binary that I publish. That will\r\nallow them to receive updates with Google Play. However, you can also build Superuser as part of your\r\nbuild, if you choose to.\r\n\r\nThere are two ways to include Superuser in your build. The easiest is to build the APK as a separate app.\r\nTo do that, simply add the local_manifest.xml as described below. The second way is by embedding it\r\ninto the native Android System Settings.\r\n\r\n#### Repo Setup\r\nAdd the [local_manifest.xml](https://github.com/koush/Superuser/blob/master/local_manifest.xml) to your .repo/local_manifests\r\n\r\n#### Configuring the Package Name\r\nThe Superuser distributed on Google Play is in the package name com.koushikdutta.superuser.\r\nTo prevent conflicts with the Play store version, the build process changes the package\r\nname to com.thirdparty.superuser. You can configure this value by setting the following\r\nin your vendor makefile or BoardConfig:\r\n\r\n```\r\nSUPERUSER_PACKAGE := com.mypackagename.superuser\r\n```\r\n\r\n#### Advanced - Embedding Superuser into System Settings\r\n\r\nYou will not need to change the package name as described above. Superuser will simply go\r\ninto the com.android.settings package.\r\n\r\nFirst, in a product makefile (like vendor/cm/config/common.mk), specify the following:\r\n\r\n```\r\nSUPERUSER_EMBEDDED := true\r\n```\r\n\r\nTo modify packages/apps/Settings, you will need this [patch](http://review.cyanogenmod.org/#/c/32957/2//COMMIT_MSG,unified).\r\nThe patch simply references the sources checked out to external/koush and makes changes\r\nto XML preference files and the AndroidManifest.xml. It is a very minimal change.\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}